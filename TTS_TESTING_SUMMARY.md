# üìã TTS Testing Summary

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1. ‚úÖ **TTS_TESTING_STEPS.md** - –ü–æ–ª–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
2. ‚úÖ **TTS_QUICK_TEST.md** - –ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
3. ‚úÖ **TTS_TESTING_COMPLETE.md** - –û–±–∑–æ—Ä –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
4. ‚úÖ **TTS_TESTING_QUICKSTART.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–∫—Ä–∏–ø—Ç—ã
1. ‚úÖ **scripts/test_tts.ps1** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
2. ‚úÖ **scripts/start_and_test_tts.ps1** - –ó–∞–ø—É—Å–∫ API + —Ç–µ—Å—Ç—ã

### E2E –¢–µ—Å—Ç—ã
1. ‚úÖ **tests/e2e/test_tts.py** - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

### –°–ø–æ—Å–æ–± 1: PowerShell —Å–∫—Ä–∏–ø—Ç (–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

```powershell
cd trendoscope2
.\scripts\test_tts.ps1
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç API
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
- –ó–∞–ø—É—Å–∫–∞–µ—Ç E2E —Ç–µ—Å—Ç—ã

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:**
```bash
python run.py
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:**
```bash
pytest tests/e2e/test_tts.py -v
```

### –°–ø–æ—Å–æ–± 3: –ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π

```powershell
.\scripts\start_and_test_tts.ps1
```

–ó–∞–ø—É—Å–∫–∞–µ—Ç API –≤ —Ñ–æ–Ω–µ –∏ —Ç–µ—Å—Ç—ã.

---

## üìä –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

### E2E –¢–µ—Å—Ç—ã (15 —Ç–µ—Å—Ç–æ–≤)

1. **TestTTSGeneration** (6 —Ç–µ—Å—Ç–æ–≤)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
   - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **TestTTSProviders** (3 —Ç–µ—Å—Ç–∞)
   - gTTS –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - pyttsx3 –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä

3. **TestTTSFallback** (1 —Ç–µ—Å—Ç)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback

4. **TestTTSCaching** (2 —Ç–µ—Å—Ç–∞)
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞

5. **TestTTSVoiceSelection** (2 —Ç–µ—Å—Ç–∞)
   - –ú—É–∂—Å–∫–æ–π –≥–æ–ª–æ—Å
   - –ñ–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å

6. **TestTTSErrorHandling** (1 —Ç–µ—Å—Ç)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç (1 –∫–æ–º–∞–Ω–¥–∞)

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TTS
$r = Invoke-RestMethod -Uri "http://localhost:8004/api/tts/generate" `
  -Method POST -ContentType "application/json" `
  -Body '{"text": "Test", "language": "en"}'; Write-Host "‚úì Success: $($r.audio_id)"
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–µ—Å—Ç—ã SKIPPED

**–ü—Ä–∏—á–∏–Ω–∞:** API –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ API
python run.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
pytest tests/e2e/test_tts.py -v
```

### –ü—Ä–æ–±–ª–µ–º–∞: "API is not available"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∑–∞–ø—É—â–µ–Ω: `python run.py`
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: `Application startup complete`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `curl http://localhost:8004/health`

### –ü—Ä–æ–±–ª–µ–º–∞: "ModuleNotFoundError"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
pip install -r requirements.txt
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
trendoscope2/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ test_tts.ps1              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ TTS
‚îÇ   ‚îî‚îÄ‚îÄ start_and_test_tts.ps1   # –ó–∞–ø—É—Å–∫ API + —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ e2e/
‚îÇ       ‚îî‚îÄ‚îÄ test_tts.py           # E2E —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ TTS_TESTING_*.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## ‚úÖ Success Checklist

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/health`
- [ ] TTS –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ (ru/en)
- [ ] –ê—É–¥–∏–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (—Ö–æ—Ç—è –±—ã —á–∞—Å—Ç–∏—á–Ω–æ)
- [ ] Frontend –∫–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–≤–∞—Ç–∞—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `.\scripts\test_tts.ps1`
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:8004`
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ UI –≤—Ä—É—á–Ω—É—é

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ
