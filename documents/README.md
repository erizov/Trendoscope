# üîç –¢—Ä–µ–Ω–¥–æ—Å–∫–æ–ø (Trendoscope)

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å—Ç–æ–≤ LiveJournal —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –≤–∏—Ä—É—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏ LLM.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–°–±–æ—Ä –ø–æ—Å—Ç–æ–≤** –∏–∑ LiveJournal (RSS + HTML –ø–∞—Ä—Å–∏–Ω–≥, –≤–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ –ø–æ—Å—Ç—ã)
- **NLP-–∞–Ω–∞–ª–∏–∑**: —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
- **–ê–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è** –∞–≤—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –ø–æ—Å—Ç–æ–≤
- **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞** –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ (RAG)
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤** –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–µ–º
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∏–ª—è—Ö —Å –ø–æ–º–æ—â—å—é LLM
- **–û—Ü–µ–Ω–∫–∞ –≤–∏—Ä—É—Å–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞** –ø–æ—Å—Ç–æ–≤
- **üÜï –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤ –≤ —Å—Ç–∏–ª–µ –∞–≤—Ç–æ—Ä–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
- **–°–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π** –∏–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **Web UI** –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
trendascope/
‚îú‚îÄ‚îÄ src/trendascope/
‚îÇ   ‚îú‚îÄ‚îÄ api/              # FastAPI endpoints
‚îÇ   ‚îú‚îÄ‚îÄ ingest/           # –°–±–æ—Ä—â–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (LiveJournal, RSS)
‚îÇ   ‚îú‚îÄ‚îÄ nlp/              # NLP –∞–Ω–∞–ª–∏–∑ –∏ —Å—Ç–∏–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ index/            # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î –∏ –ø–æ–∏—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ trends/           # –î–≤–∏–∂–æ–∫ —Ç—Ä–µ–Ω–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ gen/              # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (LLM)
‚îÇ   ‚îú‚îÄ‚îÄ pipeline/         # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä pipeline
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã (–∫–µ—à –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ tests/                # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ frontend/             # Web UI
```

## üÜï –ù–æ–≤–æ–µ: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤!

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç **–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã –≤ –≤–∞—à–µ–º —Å—Ç–∏–ª–µ** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π:

- üìù 4 —Å—Ç–∏–ª—è –Ω–∞ –≤—ã–±–æ—Ä (—Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π, –∏—Ä–æ–Ω–∏—á–Ω—ã–π, –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π, –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–π)
- üåê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üéØ RAG –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã –∫–∞–∫ style guide
- ‚ú® GPT-4 –ø–∏—à–µ—Ç –≤ –≤–∞—à–µ–π –º–∞–Ω–µ—Ä–µ —Å –≤–∞—à–µ–π –ª–µ–∫—Å–∏–∫–æ–π

**–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** [POST_GENERATOR_GUIDE.md](POST_GENERATOR_GUIDE.md)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 2. –°–∫–∞—á–∞—Ç—å spaCy –º–æ–¥–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
python -m spacy download ru_core_news_sm
python -m spacy download en_core_web_sm
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# LLM API Keys (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# LiveJournal (–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∫—Ä—ã—Ç—ã–º –ø–æ—Å—Ç–∞–º)
LJ_USERNAME=your_username
LJ_PASSWORD=your_password

# Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)
REDIS_URL=redis://localhost:6379/0

# Qdrant (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é in-memory FAISS)
QDRANT_URL=http://localhost:6333
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä

```bash
cd trendascope
python run.py
# –∏–ª–∏
uvicorn src.trendascope.api.main:app --reload --host 0.0.0.0 --port 8003
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://localhost:8003**

üí° –ï—Å–ª–∏ –ø–æ—Ä—Ç 8003 –∑–∞–Ω—è—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ –≤ `run.py`

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

```bash
pytest tests/test_pipeline.py -v
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é pipeline

```bash
python tests/test_pipeline.py
```

## üé® –°—Ç–∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### Summary Modes (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 6 —Ä–µ–∂–∏–º–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ summary:

1. **Analytical** - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
2. **Provocative** - –ü—Ä–æ–≤–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–π, –≤—ã–∑—ã–≤–∞–µ—Ç –¥–∏—Å–∫—É—Å—Å–∏—é
3. **Humorous** - –Æ–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π, –ª—ë–≥–∫–∏–π –∏ –∏—Ä–æ–Ω–∏—á–Ω—ã–π
4. **Philosophical** - –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π, —Å–æ–∑–µ—Ä—Ü–∞—Ç–µ–ª—å–Ω—ã–π
5. **Journalistic** - –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç—Å–∫–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
6. **Logospheric** - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π, —Å —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–º –ø–æ–¥—Ç–µ–∫—Å—Ç–æ–º

### Post Generation Styles (NEW!)
4 —Å—Ç–∏–ª—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ –≤ —Å—Ç–∏–ª–µ –∞–≤—Ç–æ—Ä–∞:

1. **Philosophical** ü§î - –§–∏–ª–æ—Å–æ—Ñ—Å–∫–æ–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ —Å –æ—Ç—Å—ã–ª–∫–∞–º–∏ –∫ –≤–µ—á–Ω—ã–º —Ç–µ–º–∞–º
2. **Ironic** üòè - –ò—Ä–æ–Ω–∏—á–Ω—ã–π –≤–∑–≥–ª—è–¥ —Å —Å–∞—Ä–∫–∞–∑–º–æ–º –∏ –æ—Å—Ç—Ä—ã–º–∏ –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏
3. **Analytical** üìä - –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ –≤—ã–≤–æ–¥–∞–º–∏
4. **Provocative** üî• - –ü—Ä–æ–≤–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—Ç–∏–ª—å, –≤—ã–∑—ã–≤–∞—é—â–∏–π –¥–∏—Å–∫—É—Å—Å–∏—é

## üîå API Endpoints

### `GET /api/pipeline/run`

–ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ pipeline –∞–Ω–∞–ª–∏–∑–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `blog_url` - URL –±–ª–æ–≥–∞ LiveJournal (default: civil-engineer.livejournal.com)
- `max_posts` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤ (1-100)
- `mode` - –°—Ç–∏–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `provider` - LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä (demo/openai/anthropic/local)
- `model` - –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "http://localhost:8000/api/pipeline/run?blog_url=https://civil-engineer.livejournal.com&max_posts=20&mode=analytical&provider=demo"
```

### `POST /api/generate/summary`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤.

**Body:**
```json
{
  "items": [...posts...],
  "mode": "analytical",
  "provider": "demo"
}
```

### `GET /api/modes`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

### `GET /api/health`

Health check endpoint.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest -v

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_pipeline.py::TestPipelineIntegration::test_full_pipeline_demo_mode

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ
python tests/test_pipeline.py
```

## üìä Pipeline Workflow

1. **Fetch Posts** - –°–±–æ—Ä –ø–æ—Å—Ç–æ–≤ –∏–∑ LiveJournal
2. **Analyze** - NLP –∞–Ω–∞–ª–∏–∑ (—Å–µ–Ω—Ç–∏–º–µ–Ω—Ç, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —Å—Ç–∏–ª—å)
3. **Index** - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ë–î
4. **Extract Trends** - –í—ã—è–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Ç–µ–º
5. **Calculate Virality** - –†–∞—Å—á—ë—Ç –≤–∏—Ä—É—Å–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞
6. **Generate Content** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å LLM

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: FastAPI, Python 3.11+
- **NLP**: spaCy, KeyBERT, YAKE, sentence-transformers
- **Vector DB**: FAISS / Qdrant
- **LLM**: OpenAI, Anthropic, Ollama (local)
- **Scraping**: httpx, BeautifulSoup, trafilatura, feedparser
- **Cache**: Redis (optional)
- **Frontend**: Vanilla JS + HTML/CSS
- **Testing**: pytest

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python API

```python
from src.trendascope.pipeline.orchestrator import Pipeline

# –°–æ–∑–¥–∞—Ç—å pipeline
pipeline = Pipeline()

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
result = pipeline.run_full_pipeline(
    blog_url="https://civil-engineer.livejournal.com",
    max_posts=50,
    mode="analytical",
    provider="demo"
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
print(f"–ü–æ—Å—Ç–æ–≤: {result['stats']['total_posts']}")
print(f"–¢—Ä–µ–Ω–¥–æ–≤: {len(result['trends'])}")
print(f"–†–µ–∑—é–º–µ: {result['generated']['summary']}")
```

### –ê–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```python
# NLP –∞–Ω–∞–ª–∏–∑
from src.trendascope.nlp.analyzer import analyze_text

analysis = analyze_text("–í–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å")
print(analysis['keywords'])
print(analysis['sentiment'])

# –ê–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è
from src.trendascope.nlp.style_analyzer import analyze_style

posts = [{"text_plain": "..."}]
style = analyze_style(posts)
print(style)

# –ü–æ–∏—Å–∫ —Ç—Ä–µ–Ω–¥–æ–≤
from src.trendascope.trends.engine import get_trending_topics

trends = get_trending_topics(analyzed_posts)
print(trends)
```

## üéØ Roadmap

- [x] LiveJournal scraper
- [x] NLP pipeline
- [x] Style analyzer
- [x] Vector DB and RAG
- [x] Trend engine
- [x] LLM integration
- [x] Web UI
- [x] Integration tests
- [ ] Telegram source integration
- [ ] ML popularity model (XGBoost)
- [ ] Auto-posting to LiveJournal
- [ ] Analytics dashboard
- [ ] Multi-user support

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë§ –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–ª–æ–≥–∞ https://civil-engineer.livejournal.com
