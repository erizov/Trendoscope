# üß™ Testing Plan: Voice (TTS), Email, Telegram

## –û–±–∑–æ—Ä

–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ç—Ä–µ—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:
1. **Voice (TTS)** - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ç–µ—Å—Ç—ã
2. **Email** - ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å + —Ç–µ—Å—Ç—ã
3. **Telegram** - ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å + —Ç–µ—Å—Ç—ã

---

## 1. Voice (TTS) Testing

### ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: gTTS + pyttsx3
- –¢–µ—Å—Ç—ã: `tests/e2e/test_tts.py` (15 —Ç–µ—Å—Ç–æ–≤)
- –°—Ç–∞—Ç—É—Å: –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### 1.1 Audio Quality Tests
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∞—É–¥–∏–æ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ñ–æ—Ä–º–∞—Ç)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ (ru, en)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤ (male, female)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤

#### 1.2 Performance Tests
- [ ] –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—É–¥–∏–æ
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

#### 1.3 Integration Tests
- [ ] TTS + News Feed –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] TTS + Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] TTS + Telegram (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ)

---

## 2. Email Testing

### ‚ùå –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å email —Å–µ—Ä–≤–∏—Å

### üìã –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 2.1 Email Service
```python
# src/trendoscope2/services/email_service.py
- Send email via SMTP (free)
- Support HTML/Plain text
- Email templates
- Daily digest functionality
```

#### 2.2 Email Tests
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ email
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ HTML email
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ daily digest
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ SMTP
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è email –∞–¥—Ä–µ—Å–æ–≤
- [ ] Rate limiting

---

## 3. Telegram Testing

### ‚ùå –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ (`TELEGRAM_INTEGRATION_PLAN.md`)
- –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### üìã –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 3.1 Telegram Service
```python
# src/trendoscope2/services/telegram_service.py
- Send messages to channel
- Format posts
- Handle errors
- Rate limiting
```

#### 3.2 Telegram Tests
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–æ—Ç—É
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª
- [ ] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] Rate limiting

---

## üéØ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Phase 1: Email Service (1-2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å email —Å–µ—Ä–≤–∏—Å
2. –î–æ–±–∞–≤–∏—Ç—å SMTP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –°–æ–∑–¥–∞—Ç—å email templates
4. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã

### Phase 2: Telegram Service (2-3 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Telegram —Å–µ—Ä–≤–∏—Å
3. –î–æ–±–∞–≤–∏—Ç—å API endpoints
4. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã

### Phase 3: Integration Tests (1 –¥–µ–Ω—å)
1. TTS + Email –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
2. TTS + Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
3. Email + Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
4. E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–µ—Ö

---

## üìù Test Structure

```
tests/
‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îú‚îÄ‚îÄ test_tts.py              # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ test_email.py            # ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ test_telegram.py         # ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ test_integrations.py     # ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å (TTS+Email+Telegram)
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ test_email_service.py    # ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ test_telegram_service.py # ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å
```

---

## üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
